<h2>Edit <%= resource_name.to_s.humanize %></h2>

<%= form_for(resource, :as => resource_name, :url => registration_path(resource_name), :html => { :method => :put }) do |f| %>

<% if @user.errors.any? %>
	<div class="alert alert-error">
		<ul>
			<h4>Please correct the following errors:</h4>
		<li><%= raw flash[:error] = @user.errors.full_messages.join('.</li><li>').gsub('Currentschool', 'School Affiliation') %>.</li>
		</ul>
	</div>
<% end %>

		<div class="control-group alert alert-info well<% if resource.errors[:current_password].present? %>error<% end %>">
		<%= f.label 'current_password', :class => 'control-label' %><i>(we need your current password to confirm your changes)</i>
		  <div class="controls">
		    <%= f.password_field :current_password %>
				<% if resource.errors[:current_password].present? %>
					<span class="help-inline">Current password <%= strip(resource.errors[:current_password]) %></span>
				<% end %>
		  </div>
		</div>

		<div class="control-group span5<% if resource.errors[:name].present? %>error<% end %>">
		<%= f.label 'Full Name',  :class => 'control-label' %>
		  <div class="controls">
		    <%= f.text_field :name %>
				<% if resource.errors[:name].present? %>
					<span class="help-inline">Name <%= strip(resource.errors[:name]) %></span>
				<% end %>
		  </div>
		</div>

		<div class="control-group span5<% if resource.errors[:password].present? %>error<% end %>">
		<%= f.label :password, :class => 'control-label' %>
		  <div class="controls">
		    <%= f.password_field :password %>
				<% if resource.errors[:password].present? %>
					<span class="help-inline">Password <%= strip(resource.errors[:password]) %></span>
				<% end %>
		  </div>
		</div>

			<div class="control-group span5 <% if resource.errors[:email].present? %>error<% end %>">
			<%= f.label :email, :class => 'control-label' %>
			  <div class="controls">
			    <%= f.email_field :email %>
					<% if resource.errors[:email].present? %>
						<span class="help-inline">Email <%= strip(resource.errors[:email]) %></span>
					<% end %>
			  </div>
			</div>

		<div class="control-group span5<% if resource.errors[:password_confirmation].present? %>error<% end %>">
		<%= f.label :password_confirmation, :class => 'control-label' %>
		  <div class="controls">
		    <%= f.password_field :password_confirmation %>
				<% if resource.errors[:password_confirmation].present? %>
					<span class="help-inline"><%= strip(resource.errors[:password_confirmation]) %></span>
				<% end %>
		  </div>
		</div>

		<div class="control-group span5<% if resource.errors[:currentSchool].present? %>error<% end %>">
		<%= f.label 'School Affiliation', :class => 'control-label' %>
		  <div class="controls">
		    <%= f.text_field :currentSchool %>
				<% if resource.errors[:currentSchool].present? %>
					<span class="help-inline">School affiliation <%= strip(resource.errors[:currentSchool]) %></span>
				<% end %>
		  </div>
		</div>
		
		<div class="control-group span5<% if resource.errors[:department].present? %>error<% end %>">
		<%= f.label 'Department', :class => 'control-label' %>
		  <div class="controls">
		    <%= f.text_field :department %>
				<% if resource.errors[:department].present? %>
					<span class="help-inline">Department <%= strip(resource.errors[:department]) %></span>
				<% end %>
		  </div>
		</div>

		<div class="control-group span5<% if resource.errors[:position_id].present? %>error<% end %>">
		<%= f.label 'Position', :class => 'control-label' %>
		  <div class="controls">
		    <%= select_tag 'user[position_id]', options_for_select([ ['Undergraduate', 0], ['Graduate', 1], ['Faculty', 2], ['Staff', 3], ['Other', 4]]) %>
				<% if resource.errors[:position_id].present? %>
					<span class="help-inline">Position <%= strip(resource.errors[:position_id]) %></span>
				<% end %>
		  </div>
		</div>
		
<%
=begin
%>
		
		<div class="control-group span5<% if resource.errors[:gpa].present? %>error<% end %>">

		  <div class="controls">
		    <%= select_tag 'user[gpa]', options_for_select(['Undisclosed','A+', 'A', 'A-', 'B+', 'B', 'B-', 'C+', 'C', 'C-', 'D+', 'D', 'D-', 'F']) %>
				<% if resource.errors[:gpa].present? %>
					<span class="help-inline">GPA <%= strip(resource.errors[:gpa]) %></span>
				<% end %>
		  </div>
		</div>

		<div class="control-group span12<% if resource.errors[:summary].present? %>error<% end %>">
		<%= f.label 'Interests', :class => 'control-label' %>
		  <div class="controls">
		    <%= f.text_area :summary, :class=>"span8", :rows=>"10"   %>
				<% if resource.errors[:summary].present? %>
					<span class="help-inline">Summary <%= strip(resource.errors[:summary]) %></span>
				<% end %>
		  </div>
		</div>

		<div class="control-group span12<% if resource.errors[:courses].present? %>error<% end %>">
		<%= f.label 'Courses', :class => 'control-label' %>
		  <div class="controls">
		    <%= f.text_area :courses, :class=>"span8", :rows=>"10" %>
				<% if resource.errors[:courses].present? %>
					<span class="help-inline">Courses <%= strip(resource.errors[:courses]) %></span>
				<% end %>
		  </div>
		</div>


		<div class="control-group span12<% if resource.errors[:otherInfo].present? %>error<% end %>">
		<%= f.label 'Other Info (Relevant Experiences, Awards, Skills, etc)', :class => 'control-label' %>
		  <div class="controls">
		    <%= f.text_area :otherInfo, :class=>"span8", :rows=>"10" %>
				<% if resource.errors[:otherInfo].present? %>
					<span class="help-inline">Other Info <%= strip(resource.errors[:otherInfo]) %></span>
				<% end %>
		  </div>
		</div>

<%
=end
%>

    <div class="span12"><%= f.submit "Update", :class => 'btn btn-primary btn-large' %></div>
<% end %>
<div class="span12">
<h3>Cancel my account</h3>

<p>Unhappy? <%= link_to "Cancel my account", registration_path(resource_name), :confirm => "Are you sure?", :method => :delete %>.</p>
<br><br>
</div>
